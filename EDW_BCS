CREATE TABLE #Estrutura (
    DatabaseName NVARCHAR(128),
    TableSchema NVARCHAR(128),
    TableName NVARCHAR(128),
    ColumnName NVARCHAR(128),
    DataType NVARCHAR(128),
    CharMaxLength INT
);
 
EXEC sp_MSforeachdb '
IF ''?'' IN (''SIRIS_APP_BCS'', ''SIRIS_ODS_BCS'', ''SIRIS_STG_BCS'')
BEGIN
    INSERT INTO #Estrutura
    SELECT ''?'' AS DatabaseName,
           TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH
    FROM [?].INFORMATION_SCHEMA.COLUMNS;
END
';
 
SELECT * FROM #Estrutura
ORDER BY DatabaseName, TableSchema, TableName, ColumnName;
